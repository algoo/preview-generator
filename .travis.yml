sudo: true
language: python
python:
  - "3.3"
  - "3.4"
  - "3.5"
  - "3.6"

# Enable 3.7 without globally enabling sudo and dist: xenial for other build jobs
matrix:
  include:
    - python: 3.7
      dist: xenial
      sudo: true

# addons:
#   apt:
#     packages:
#     - libreoffice
#     # - scribus
#     - libfile-mimeinfo-perl
#     - xvfb

install:
  # Install specific version of exiftool
  - wget https://sno.phy.queensu.ca/~phil/exiftool/Image-ExifTool-11.11.tar.gz && gzip -dc Image-ExifTool-11.11.tar.gz | tar -xf - && cd Image-ExifTool-11.11 && perl Makefile.PL && sudo make install
  - cd ..
  - sudo apt-get install xvfb libreoffice libfile-mimeinfo-perl -y
  - python setup.py install
  - pip install preview-generator
  - pip install pytest
  - python3 -m pip install -U mypy

# command to run tests
script:
  - "cd ${TRAVIS_BUILD_DIR} && py.test tests"

#  - "cd ${TRAVIS_BUILD_DIR} && mypy preview_generator --ignore-missing-imports --disallow-untyped-defs"


                              
